# 数据库初步设计

## 用户表 user
| 字段名 (Field)   | 数据类型 (Type)    | 约束/描述 (Constraint/Description)               |
|------------------|--------------------|------------------------------------------------|
| user_id          | INT                | 主键 (PK)，自动递增，用户唯一标识                  |
| role_id          | INT                | 外键 (FK)，关联 Role 表，定义用户角色             |
| username         | VARCHAR(50)        | 登录账号 (学号/工号)                           |
| password_hash    | VARCHAR(255)       | 存储加密后的密码                               |
| full_name        | VARCHAR(100)       | 姓名                                           |
| email            | VARCHAR(100)       | 邮箱                                           |
| phone_number     | VARCHAR(20)        | 电话                                           |
| supervisor_id    | INT                | 外键 (FK)，关联 User 表 (自关联)，仅研究生需要，存储导师 ID |


## 角色表 role
| 字段名 (Field)   | 数据类型 (Type)    | 约束/描述 (Constraint/Description)                    |
|------------------|--------------------|-----------------------------------------------------|
| role_id          | INT                | 主键 (PK)，角色唯一标识                               |
| role_name        | VARCHAR(50)        | 角色名称：'Graduate Student', 'Faculty', 'Admin'    |

## 考勤记录表 attendance_record
| 字段名 (Field)   | 数据类型 (Type)    | 约束/描述 (Constraint/Description)                        |
|------------------|--------------------|--------------------------------------------------------|
| attendance_id    | BIGINT             | 主键 (PK)，自动递增                                       |
| user_id          | INT                | 外键 (FK)，关联 User 表 (研究生)                          |
| check_in_time    | DATETIME           | 签到时间                                                |
| check_out_time   | DATETIME           | 签退时间 (可为空，表示未签退)                             |
| ip_address       | VARCHAR(40)        | 签到/退时的 IP 地址 (可选)                              |
| status           | ENUM               | 考勤状态：'Present', 'Late', 'Absent', 'Excused'         |

## 请假申请表 leave_appli
| 字段名 (Field)   | 数据类型 (Type)    | 约束/描述 (Constraint/Description)                        |
|------------------|--------------------|--------------------------------------------------------|
| leave_id         | BIGINT             | 主键 (PK)，自动递增                                       |
| user_id          | INT                | 外键 (FK)，关联 User 表 (申请人/研究生)                   |
| start_date       | DATE               | 请假开始日期                                             |
| end_date         | DATE               | 请假结束日期                                             |
| reason           | TEXT               | 请假理由                                                 |
| applied_at       | DATETIME           | 申请时间                                                 |
| approver_id      | INT                | 外键 (FK)，关联 User 表 (审批人/导师)                    |
| approval_status  | ENUM               | 审批状态：'Pending', 'Approved', 'Rejected'              |
| approval_time    | DATETIME           | 审批时间 (可为空)                                        |

## 实验室房间表 lab_room
| 字段名 (Field)   | 数据类型 (Type)    | 约束/描述 (Constraint/Description)                        |
|------------------|--------------------|--------------------------------------------------------|
| lab_id           | INT                | 主键 (PK)，实验室唯一标识                               |
| lab_name         | VARCHAR(100)       | 实验室名称/编号                                         |
| location         | VARCHAR(255)       | 所在楼层或位置                                          |
| capacity         | INT                | 最大容纳人数或设备数量                                 |


## 预约记录表 book_record
| 字段名 (Field) | 数据类型 (Type) | 约束/描述 (Constraint/Description) |
| :--- | :--- | :--- |
| `reservation_id` | BIGINT | **主键 (PK)**, 自动递增 |
| `lab_id` | INT | **外键 (FK)**, 关联 `LabRoom` 表 (预约的实验室) |
| `user_id` | INT | **外键 (FK)**, 关联 `User` 表 (预约人) |
| `stort_time` | DATETIME | 预约开始时间 (精确到时分) |
| `end_time` | DATETIME | 预约结束时间 |
| `purpose` | VARCHAR(255) | 预约目的 |
| `check_in_time` | DATETIME | 到达签到时间 (实验室进出记录) |
| `check_out_time` | DATETIME | 离开签到时间 (实验室进出记录) |
| `status` | ENUM | 预约状态：'Approved', 'Pending', 'Cancelled', 'Completed' |






- jdk17 https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html

```
java --version
```
- idea
- mysql 
- datagrip [建库建表](https://blog.csdn.net/weixin_43412762/article/details/132263164?ops_request_misc=elastic_search_misc&request_id=70269d072957bbc8933cd3bb50f136a5&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-132263164-null-null.142^v102^pc_search_result_base6&utm_term=datagrip%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1018.2226.3001.4187)

[mysql下载教程](https://blog.csdn.net/wer24_25/article/details/139959655?ops_request_misc=elastic_search_misc&request_id=6ad56531998ed843ed06451f2d9c3926&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-4-139959655-null-null.142^v102^pc_search_result_base6&utm_term=mysql%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B&spm=1018.2226.3001.4187)

- maven  https://maven.apache.org/download.cgi

maven  下载教程：https://blog.csdn.net/weixin_42017221/article/details/146497991?ops_request_misc=elastic_search_misc&request_id=a7018af5cef8d61a4769a586895225be&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-146497991-null-null.142^v102^pc_search_result_base6&utm_term=maven%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B&spm=1018.2226.3001.4187



